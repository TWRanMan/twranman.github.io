---
layout: post
title:  "性能测试之服务器性能测试工具及实战"
date:   2013-11-20 13:50:26
categories: jekyll update
---

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.11 (454876)"/><meta name="author" content="Ran Liu"/><meta name="created" content="2017-09-03 13:47:39 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-03 13:47:47 +0000"/><title>Untitled</title></head><body><div><span style="font-weight: bold;">本文发表于《程序员》杂志2013年</span></div><div><span style="font-weight: bold;"> </span></div><div><span style="font-weight: bold;">1</span><span style="font-weight: bold;">，服</span><span style="font-weight: bold;">务</span><span style="font-weight: bold;">器性能</span><span style="font-weight: bold;">测试</span><span style="font-weight: bold;">工具</span><span style="font-weight: bold;">简介</span></div><div><span>服务器性能测试主要是以测试服务器的性能为主的测试方法，通过模拟多用户按照预定义好的规则对服务器进行并行访问，监测并记录服务器的</span><span>Response Time</span><span>，</span><span>Throughput</span><span>，</span><span> Server Hits </span><span>以及</span><span>Memory</span><span>和</span><span>CPU</span><span>等实时数据，通过分析测试数据，得到服务器的各项性能指标从而发现服务器的性能瓶颈和内存泄漏等问题。进行这样测试的工具称之为服务器性能测试工具。</span></div><div><span> </span></div><div><span>服务器性能测试工具通过多年的发展，已经从</span><span>ab</span><span>／</span><span>abs</span><span>这种简单的命令行工具发展到有丰富</span><span>UI</span><span>配置界面的</span><span>Jmeter</span><span>，</span><span>LoadRunner</span><span>，到现在的</span><span>Gatling</span><span>支持</span><span>DSL/Actor, LoadUI</span><span>支持图形化网络接口的新一代工具， 可以说是种类繁多。对于各种不同的需求，应该都能找到一款相对合适的工具。如果只是想做入门级别的压力测试，比如只是需要简单的产生许多</span><span>HTTP</span><span>请求，那么</span><span>ab </span><span>和</span><span>curl-loader</span><span>就能完成工作；如果需要在有限的设备上进行最大强度的发包，那么</span><span>Gatling</span><span>和</span><span> Locust</span><span>将是不二选择；如果资金充裕</span><span>,</span><span>商用的</span><span>LoadRunner</span><span>和</span><span>LoadUI Pro</span><span>绝对能满足需求；如果你是</span><span>Windows</span><span>的忠实拥护者，那么</span><span>OpenSTA</span><span>和</span><span>WebLoad</span><span>也是很好的选择；如果你并不是喜欢编程和修改</span><span>xml</span><span>，并且资金也不充裕，那么</span><span>Jmeter</span><span>和</span><span>LoadUI</span><span>是不错的选项；如果你是</span><span>Python</span><span>爱好者，那么</span><span>Locust</span><span>和</span><span>Grinder </span><span>将可以延续你的爱好。</span></div><div><span> </span></div><div><span>总之，每个工具都有自己的优点和缺点，只要根据需求以及资金情况选择合适的工具就可以了。因为每个工具的基本功能都是产生尽可能多的网络请求，然后收集各种数据并展现出来。只不过由于使用的技术不同以及开发者的目标不同，所以得到的效果不一样而已（详见第二节 ）。</span></div><div> </div><div><span style="font-weight: bold;">2</span><span style="font-weight: bold;">，主要的服</span><span style="font-weight: bold;">务</span><span style="font-weight: bold;">器性能</span><span style="font-weight: bold;">测试</span><span style="font-weight: bold;">工具</span></div><div><span style="font-weight: bold;"> </span></div><div><span>对于现在已有的服务器性能测试工具如果按照表现模式，主要可以分为命令模式，图形模式，脚本模式。下面就对一些主要的工具进行一下介绍。</span></div><div><span> </span></div><div><span style="font-weight: bold;">命令模式：</span></div><div><span>·</span><span>     </span> <span>ab</span><span>／</span><span>abs</span><span>：</span><span> ab</span><span>／</span><span>abs</span><span>是</span><span>Apache Http Server</span><span>自带的一款的性能测试工具，安装了</span><span>Apache</span><span>就可以在其目录下面找到它。它具有体积小，性能高的特点，缺点是没有界面，报表简单，很难使用其进行复杂流程的性能测试，必须借助第三方语言的帮助，比如</span><span>Bash Shell</span><span>，</span><span>Python </span><span>等。</span></div><div><span> </span></div><div><span>·</span><span>     </span> <span>curl-loader</span><span>：</span><span>curl-loader </span><span>是一款基于</span><span>c</span><span>开发的命令行工具，拥有和</span><span>ab</span><span>／</span><span>abs</span><span>一样的特点，但是支持更多的功能，比如</span><span>FTP </span><span>和</span><span>TLS/SSL</span><span>协议栈，支持用户认证和登陆，拥有更好的报表系统。所以如果想要一个功能加强版的</span><span>ab</span><span>／</span><span>abs</span><span>，那就选择</span><span>curl-loader</span><span>。</span></div><div><span> </span></div><div><span style="font-weight: bold;">图形模式：</span></div><div><span>·</span><span>     </span> <span>LoadUI</span><span>：</span><span>LoadUI</span><span>是一款开源免费的性能测试工具。它除了拥有和其他性能测试工具一样的功能以外，还具有一个很有创意的特性：图形化网络接口，即拖即放即使用。这个特性使得可以通过拖放网络接口组件来组成的网络拓扑图，然后基于这个拓扑图进行性能测试，以及检查和观察测试情况。它基本上支持所有标准协议，比如</span><span>HTTP(S), HTML, SOAP/WSDL </span><span>和</span><span> REST to AMF, JDBC, and POX</span><span>。作为入门级别的测试工具或者练习，它绝对是一款很不错的工具。</span></div><div><span> </span></div><div><span>·</span><span>     </span> <span>LoadUI Pro</span><span>：</span><span>LoadUI Pro</span><span>是基于</span><span>LoadUI</span><span>增强功能的收费版，其更为强大的功能绝对物超所值，详细比较请见（</span><a href="http://www.loadui.org/About-loadUI/compare-loadui-and-loadui-pro.html">http://www.loadui.org/About-loadUI/compare-loadui-and-loadui-pro.html</a><span>）。虽然</span><span>LoadUI</span><span>价格也不便宜，但是和</span><span>LoadRunner</span><span>比就便宜很多了。</span></div><div><span>·</span><span>     </span> <span>LoadRunner</span><span>：</span><span>LoadRunner</span><span>可以算业界最出名，也是功能最为强大的服务器性能测试工具，当然价格也十分昂贵。它是</span><span>2006</span><span>年</span><span>HP</span><span>从</span><span>Mercury Interactive</span><span>购买过来的产品。它可以模拟各种性能测试行为，支持的协议也十分众多，比如</span><span>Flex AMF, Citrix ICA, Remote Desktop Protocol (RDP), ERP/CRM (e.g. SAP, Oracle eBusiness, Siebel and PeopleSoft), Databases, Mail Clients, Web Services</span><span>等。如果资金充裕，选择它应该能满足绝大部分需求，不过其性价比确实是一个不大不小的问题。</span></div><div><span>·</span><span>     </span> <span>Apache Jmeter</span><span>：</span><span>Apache Jmeter</span><span>是现在最流行的免费服务器性能测试工具之一。它是一个</span><span>100%</span><span>纯</span><span>java</span><span>开发的应用程序，其图形界面的易用性可以和</span><span>LoadRunner</span><span>相提并论，其丰富的插件提供了各种协议的支持，丰富的测试报表，扩展组件</span><span>BSF</span><span>支持各种语言的扩展，比如</span><span>JavaScrip</span><span>，</span><span>Ruby</span><span>，</span><span>Python</span><span>等，以及支持分布式等各种先进的特性。当然</span><span>Jmeter</span><span>也不是完美的，它也存在一些不足。不过对于服务器性能测试入门以及没有很好的技术储备并且资金不充裕的公司来讲，</span><span>Jmeter</span><span>将是一个完美的选择。</span></div><div><span> </span></div><div><span style="font-weight: bold;">脚本模式：</span></div><div><span>·</span><span>     </span> <span>Tsung</span><span>：</span><span>Tsung</span><span>是一款基于</span><span>Erlang</span><span>开发的高性能免费的服务器性能测试工具，它具有分布式，录制脚本，图形报表系统等功能，协议方面支持</span><span>HTTP</span><span>，</span><span>SOAP</span><span>，和</span><span>Jabber Server</span><span>（</span><span>SSL</span><span>）等。其测试脚本是通过</span><span>XML</span><span>来进行描述的。由于没有图形管理界面，所以编写和维护测试脚本将会是一个不小的困难。如果要对其进行扩展，也需要通过</span><span>Erlang</span><span>。除非公司有</span><span>Erlang</span><span>的技术人员，不然就不要轻易选择其作为主要的测试工具。</span></div><div><span> </span></div><div><span>·</span><span>     </span> <span>Grinder</span><span>：</span><span>Grinder</span><span>是一个基于</span><span>Java</span><span>开发，通过</span><span>Jython</span><span>（最新版增加了</span><span>Clojure</span><span>的支持）驱动的</span><span>Load-Testing </span><span>框架。由于可以通过编写</span><span>Jython</span><span>脚本来实现测试案例，从而获得了一些喜欢</span><span>Python</span><span>的技术人员的喜爱。不过由于</span><span>Jython</span><span>本身的一些问题，也造成了</span><span>Grinder</span><span>会出现内存泄漏，不稳定等情况。所以对于小规模性能测试并且拥有很好的</span><span>Python</span><span>技术人员储备的公司，还是可以选择</span><span>Grinder</span><span>进行尝试。</span></div><div><span> </span></div><div><span>·</span><span>     </span> <span>Locust: Locust</span><span>是一个基于</span><span>Python</span><span>开发，并且通过编写</span><span>ython</span><span>脚本来实现测试场景。它通过异步事件模型达可以实现高并发请求，同时它还支持分布式模型，从而可以扩展并实现超高并发请求。如果性能有很高的要求，并且拥有很好的</span><span>Python</span><span>技术人员，可以选择</span><span>Locust</span><span>进行性能测试。</span></div><div><span> </span></div><div><span>·</span><span>     </span> <span>Gatling</span><span>：</span><span>Gatling</span><span>是最近才出现的新一代服务器性能测试工具，它具有高性能，轻量表报，以及</span><span>DSL</span><span>脚本的特性。如果想要获得和</span><span>Tsung</span><span>一样或者更好的性能，如果希望支持简单易读的</span><span>DSL</span><span>脚本并且希望能在</span><span>IntelliJ</span><span>有插件的支持，如果想要轻量报表系统，那么</span><span>Gatling</span><span>是唯一选择。</span></div><div><span> </span></div><div><span>如果资金充裕， 购买商用的测试工具是很好的选择，但是如果只是一个创业公司或者并不想在服务器性能测试工具上做太多的投资，那么第三节的内容也许能提供一些帮助。</span></div><div> </div><div> </div><div><span style="font-weight: bold;">3</span><span style="font-weight: bold;">，三个真</span><span style="font-weight: bold;">实项</span><span style="font-weight: bold;">目中性能</span><span style="font-weight: bold;">测试</span><span style="font-weight: bold;">工具</span><span style="font-weight: bold;">实战</span></div><div> </div><div><span>1,</span> <span>在一个</span> <span>Erlang</span> <span>开</span><span>发</span><span>的</span><span>电</span><span>信</span><span>计费</span><span>系</span><span>统</span><span>中</span><span>从</span><span>Tsung</span><span>转</span><span>向</span><span>Jmeter</span></div><div><span> </span></div><div><span>我曾参加过一个电信计费系统项目的测试工作，这个项目始于</span><span>90</span><span>年代，那个时候</span><span>Java</span><span>刚刚起步，对于并发性能和容错要求十分严格的电信系统来讲，</span><span>Erlang</span><span>几乎是唯一选择。但是由于公司规模较小，所以也没有太多的预算去购买商用的性能测试工具， 所以只是简单的将单元测试改装一下进行并发调用（比如调用一个函数</span><span>1</span><span>万次）来做性能测试。这样的目的仅仅只是检查函数被并发调用的时候会不会出现一些问题，而无法测试真实的场景。进行到项目中期的时候，我们发现这样的测试其实并不能发现一些场景中的性能问题，所以开始寻找一个工具可以基于场景非单元而进行性能测试。由于项目的开发人员都十分熟悉</span><span>Erlang</span><span>，也是基于</span><span>Erlang</span><span>优秀的并发性，所以选择了用</span><span>Erlang</span><span>开发的</span><span>Tsung</span><span>。虽然</span><span>Tsung</span><span>支持录制功能，由于它的测试脚步都是基于</span><span>XML</span><span>，修改也需要直接修改</span><span>XML</span><span>，所以在使用过程中发现对于流程比较复杂的测试案例，并且流程需要变化的时候对测试脚本的开发和维护十分麻烦。在</span><span>Debug</span><span>测试脚本的时候无法动态显示报表而只能看日志，所以最终我们决定抛弃</span><span>Tsung</span><span>而使用</span><span>Jmeter</span><span>。</span></div><div><span>选用</span><span>Jmeter</span><span>主要是基于其开发和维护的大部分工作只需要在界面上对</span><span>Test Plan</span><span>进行配置，然后可以通过</span><span>BSF</span><span>进行少量的脚本开发就能开发复杂的测试案例。我们的具体开发流程是首先通过界面配置并发线程的规则以及主要的测试流程，然后对于某些有特殊要求的测试案例编写</span><span>Ruby</span><span>脚本并封装在</span><span>BSF Sampler</span><span>中，比如对结果进行特定分析，处理然后存储到数据库或者文件等特殊需求。由于</span><span>BSF</span><span>支持几乎所有可以在</span><span>JVM</span><span>上运行的语言，比如</span><span>Jython</span><span>，</span><span>JRuby</span><span>，</span><span>Javascript</span><span>等，所以可以选择熟悉的语言编写这种特殊需求的测试扩展。</span></div><div><span>当然</span><span>Jmeter</span><span>也不是完美的，因为使用过程中我们也遇到一些问题：</span></div><div><span>·</span><span>     </span> <span>通过界面方式运行</span><span>Test Plan</span><span>的时候，如果线程过多，比如超过</span><span>1000-2000</span><span>个线程（在我们项目特定的硬件环境下），那么界面以及</span><span>Listener</span><span>里面的图表会出现死屏的情况。所以开发和调试的时候需要把线程设置到</span><span>1000</span><span>以下最好，或者通过命令行无界面的方式进行测试。</span></div><div><span>·</span><span>     </span> <span>由于</span><span>Jmeter</span><span>是基于</span><span>Java Thread</span><span>的模型开发的，并没有</span><span>Tsung</span><span>这种基于</span><span>Actor</span><span>模型的效率高，所以我们选用了</span><span>Cluster</span><span>的模型进行测试。但是发现当</span><span>Node</span><span>过多，从</span><span>Node</span><span>传向</span><span>Server</span><span>的数据也会跟</span><span>Node</span><span>的个数成线性增长，但是能达到的并发请求却不能成等比线性增长，要低于理论值很多，所以对硬件资源的浪费也是比较大的。</span></div><div><span>·</span><span>     </span> <span>如果设置的线程太多，很容易出现</span><span>OOM</span><span>，所以我们一般最高单机设置不会超过</span><span>2000</span><span>个</span><span>Thread</span><span>对于简单的测试案例。</span></div><div><span>·</span><span>     </span> <span>如果进行</span><span>Soak Testing </span><span>超过</span><span>1</span><span>天，并且</span><span>Result</span><span>采用</span><span>XML</span><span>的格式存储，其结果文件大小会达到几个</span><span>G</span><span>甚至</span><span>10</span><span>多个</span><span>G</span><span>。如果</span><span>Result</span><span>改为</span><span>CSV</span><span>格式存储，其大小也有几百兆，如果</span><span>Testing</span><span>超过</span><span>1</span><span>周，那么数据也是巨大的。打开这个巨大的</span><span>Result</span><span>文件查看各种</span><span>Listener</span><span>图表需要很长时间，是一件十分痛苦的事情，如果太大还会出现</span><span>OOM</span><span>。</span></div><div> </div><div><span>2,</span> <span>在一个</span> <span>J2EE</span> <span>开</span><span>发</span><span>的</span><span>S</span><span>ocial</span> <span>N</span><span>etwor</span><span>k</span><span>项</span><span>目中</span><span>从</span><span>G</span><span>rinder</span><span>转</span><span>向</span><span>Jmeter</span></div><div><span> </span></div><div><span>21</span><span>世</span><span>纪</span><span>开始的</span><span>10</span><span>年是属于社交网</span><span>络</span><span>的</span><span>10</span><span>年，全世界的社交网</span><span>络</span><span>如雨后春笋般一下子都涌</span><span>现</span><span>出来。我</span><span>们</span><span>公司也是其中一</span><span>笋</span><span>，开</span><span>发</span><span>了一款社交网</span><span>络</span><span>系</span><span>统</span><span>。</span><span>对</span><span>于社交网</span><span>络</span><span>系</span><span>统</span><span>，其并</span><span>发</span><span>性能和容</span><span>错</span><span>的要求一点也不</span><span>亚</span><span>于</span><span>电</span><span>信</span><span>计费</span><span>系</span><span>统</span><span>。由于开</span><span>发</span><span>此系</span><span>统</span><span>的</span><span>时</span><span>候正是脚本</span><span>开发时代，所以系统的架构师选择了基于</span><span>Python</span><span>开发的</span><span>Grinder</span><span>来做性能测试。由于</span><span>Grinder</span><span>需要编写</span><span>Jython</span><span>脚本，并且由于项目开发进度的问题，只是开发了基本场景的</span><span>Performance Testing</span><span>，</span><span> Load Testing</span><span>，</span><span>Soak Testing</span><span>。基于这些场景我们开始寻找系统的处理极限，是否存在内存泄漏等问题，根本没有时间去做比较复杂测试 。在做</span><span>Soak Testing</span><span>的时候我们还证实了</span><span>Grinder</span><span>存在的内存泄漏问题，最终这一切不得不使我们抛弃了</span><span>Grinder</span><span>而选择</span><span>Jmeter</span><span>。</span></div><div><span>在这个项目里面我们尝试了去通过将</span><span>Server</span><span>部署在</span><span>VM Node</span><span>上，从而使其在低配置的硬件设备上运行。这样通过</span><span>Jmeter</span><span>就不需要产生大规模的并发请求，就可以比较容易的达到</span><span>Server</span><span>的访问极限，从而规避</span><span>Jmeter</span><span>的性能问题。当然这种方法并不是一种完美的解决方案，也存在其问题，比如无法真实模拟现实情况。但是由于部署和产品环境一样的硬件进行测试，本身硬件成本就十分的高。利用这种方案，不仅减少了公司对测试环境的硬件投入，还减少了一定软件成本，比如配置和维护</span><span>Jmeter Cluster</span><span>。最后通过</span><span>CI</span><span>进行测试时候，也减少了</span><span>CI</span><span>的配置和维护成本。</span></div><div><span> </span></div><div><span> </span></div><div><span>3,</span> <span>在一个</span><span>开</span><span>发</span><span>的</span><span> </span><span>J2EE</span> <span>的</span><span>商</span><span>业系统</span><span>中</span><span>尝试</span><span>使用</span><span>新一代工具</span><span>Gatling</span></div><div><span> </span></div><div><span>最近正在开发一个基于</span><span>J2EE</span><span>的商业系统，其业务逻辑比较复杂， 但是对并发性能要求并不十分高，所以从项目开始就选择了</span><span>Jmeter</span><span>作为服务器性能测试工具。我们基于</span><span>Jmeter</span><span>开发了各个场景下的</span><span>Test Plan</span><span>，并通过</span><span>Jenkins</span><span>进行测试。由于测试场景比较复杂，所以</span><span>Test Plan</span><span>里面的</span><span>Sampler, Assertion </span><span>等也很多，运行时占用的内存也比较多，数据交互也比较多，存储的</span><span>Result</span><span>也比较大。鉴于我们之前项目的经验，</span><span>Jmeter</span><span>并不适合做这样项目的</span><span>Soak Testing</span><span>。</span></div><div><span>幸运的是</span><span>Gatling</span><span>的出现刚好能解决这样的问题。</span><span>Gatling</span><span>是基于</span><span>Scala</span><span>和</span><span>Akka</span><span>开发的新一代服务器性能测试工具，它使用的</span><span>Actor </span><span>和异步</span><span>IO</span><span>使其在并发性能方面远远超越了</span><span>Jmeter</span><span>，它的报表系统是</span><span>HTML</span><span>文件来存储的并配有丰富的动态图表，所以它的高性能和轻量报表系统刚好弥补了</span><span>Jmeter</span><span>在</span><span>Soak Testing</span><span>和单机高性能方面不足的问题。</span></div><div><span>Gatling</span><span>还具有以下特性：</span></div><div><span>·</span><span>     </span> <span>支持</span><span>DSL</span><span>，使得测试脚本更为简明和更好的可读性</span></div><div><span>·</span><span>     </span> <span>支持轻量和动态页面的</span><span>HTML</span><span>测试报表</span></div><div><span>·</span><span>     </span> <span>支持录制并直接生成测试脚本</span></div><div><span>·</span><span>     </span> <span>支持</span><span>Maven</span><span>插件，可以很好的和</span><span>Eclipse</span><span>／</span><span>IntelliJ</span><span>等</span><span>IDE</span><span>进行集成</span></div><div><span>·</span><span>     </span> <span>支持</span><span>Jenkins</span><span>插件</span></div><div><span>·</span><span>     </span> <span>支持</span><span>Debian Package</span><span>，所以带</span><span>Debian</span><span>和</span><span>Ubuntu</span><span>下面可以通过</span><span>apt-get</span><span>进行快速安装和使用</span></div><div><span> </span></div><div><span>现在我已经开始考虑尝试用</span><span>Gatling</span><span>重写一部分测试案例来进行</span><span>Soak Testing</span><span>，从而将项目带入</span><span>Gatling</span><span>时代。</span></div><div><span>Gatling</span><span>也不是完美的，它发布的时间也不长，当然也存在一些不足，详见下节。</span></div><div><span> </span></div><div><span style="font-weight: bold;">4</span><span style="font-weight: bold;">，</span><span style="font-weight: bold;">服</span><span style="font-weight: bold;">务</span><span style="font-weight: bold;">器性能</span><span style="font-weight: bold;">测试</span><span style="font-weight: bold;">工具</span><span style="font-weight: bold;">的</span><span style="font-weight: bold;">发</span><span style="font-weight: bold;">展和</span><span style="font-weight: bold;">设</span><span style="font-weight: bold;">想</span></div><div><span>虽然现在</span><span>已有的</span><span>各种免费服务器性能测试工具已经拥有了十分丰富的功能，但是仍有一些需要改进和加强的地方。</span></div><div><span> </span></div><div><span>更为强大的</span><span>Server Monitor: </span><span>虽然</span><span>Jmeter</span><span>的</span><span>Plugin</span><span>已经实现了</span><span>Server Monitor</span><span>，或者也可以通过第三方工具比如</span><span>OpenTSDB</span><span>进行</span><span>Server Monitor</span><span>，但是真正使用起来还是很不方便。比如在第二个实战项目中，我们就是自己通过</span><span>Python</span><span>脚本收集</span><span>Server</span><span>的</span><span>JMX</span><span>信息，然后传递给</span><span>OpenTSDB</span><span>，分析数据的时候需要根据时间轴分别查看</span><span>Jmeter</span><span>和</span><span>OpenTSDB</span><span>的图表。如果能把收集和显示</span><span>JMX</span><span>等这类</span><span>Server</span><span>系统内部信息的功能集成入测试工具，那么就可以在同一个报表系统里面查看</span><span>Client</span><span>端和</span><span>Server</span><span>系统内部各种信息，从而更简单的进行测试数据分析。</span></div><div><span> </span></div><div><span>更好的</span><span>CI</span><span>支持：现在最流行的免费</span><span>CI</span><span>－</span><span>Jenkins/Hudson</span><span>虽然有插件支持</span><span>Jmeter</span><span>等工具，但是仅仅是显示一下汇总数据，并不能将各种报表和详细数据显示到</span><span>CI</span><span>上。如果</span><span>CI</span><span>上能直接显示甚至自定义各种数据报表以及实时显示数据报表，那么将可以极大的方便的日常测试工作，并加快测试分析和测试数据汇总。</span></div><div><span> </span></div><div><span>Jmeter</span><span>的未来：</span><span>Jmeter</span><span>对于不会写代码的测试人员就是一个天使，但是由于其性能和报表问题，往往不能在有限的设备上发挥硬件的最大能力。所以如果能用</span><span>Actor</span><span>替换掉</span><span>Thread</span><span>，让其能充分发挥硬件的性能，并且能有轻量级的报表系统，比如直接可以将</span><span>Report</span><span>存储成为</span><span>HTML</span><span>文件，那么</span><span>Jmeter</span><span>将会迎来另外一个春天。</span></div><div><span> </span></div><div><span>Gatling</span><span>的未来：</span><span>Gatling</span><span>是最新一代服</span><span>务</span><span>器性能</span><span>测试</span><span>工具，它不</span><span>仅有出色的</span><span>性能，而且而且</span><span>还</span><span>支持</span><span>DSL</span><span>和</span><span>Scala</span><span>脚本开</span><span>发</span><span>（</span><span>Scala</span><span>可以不需要</span><span>编译</span><span>而以脚本的方式</span><span>执</span><span>行）</span><span>。但是它现在不支持分布式也算是它的一个不大不小的问题，所以如果未来</span><span>Gatling</span><span>支持分布式并支持更多种类的报表和协议，那么它很有可能在未来的免费服务器性能测试工具市场上占据主导地位。</span></div><div><span> </span></div><div><span>总的说来，现在已有的服务器性能测试工具基本上都能满足基本的业务需求，只不过根据自己的技术能力和业务需己选择适合自己的就可以了。最后还是给出我个人的推荐，对于</span><span>HTTP</span><span>服务器：免费－</span><span>Gatling</span><span>；收费－</span><span>LoadUI Pro</span><span>。</span></div></body></html>