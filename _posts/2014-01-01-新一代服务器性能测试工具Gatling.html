---
layout: post
title:  "新一代服务器性能测试工具Gatling"
date:   2013-11-01 13:50:26
categories: jekyll update
---
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.0.6 (451290)"/><meta name="altitude" content="517.3843994140625"/><meta name="author" content="Ran Liu"/><meta name="created" content="2015-03-27 01:30:24 +0000"/><meta name="latitude" content="30.68730501816941"/><meta name="longitude" content="104.1016737564086"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-03-27 02:03:49 +0000"/><title>新一代服务器性能测试工具Gatling</title></head><body>
<div style="mso-outline-level: 1"><span style="font-family: 'ＭＳ 明朝';"><b>本文发表于InfoQ，原文：</b></span><a href="http://www.infoq.com/cn/articles/new-generation-server-testing-tool-gatling">http://www.infoq.com/cn/articles/new-generation-server-testing-tool-gatling</a></div>
<div>
<div><span style="mso-fareast-language:ZH-CN"> </span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">21<span lang="ZH-CN" xml:lang="ZH-CN">世纪是云的世纪</span>, <span lang="ZH-CN" xml:lang="ZH-CN">大规模云网已经出现了，而且在未来几年内会得到高速发展，从而使得基于云的系统也会越来越多。如果要开发一款高性能的云系统，服务器性能测试是一个必不可少的环节 。今天，就来介绍一款新一代服务器性能测试工具</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-outline-level:1"><b style="mso-bidi-font-weight: normal"><span lang="ZH-CN" style="font-size:14.0pt;font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">一，什么是</span></b><b style="mso-bidi-font-weight:normal"><span style="font-size:14.0pt;font-family: 宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"><span style="mso-spacerun:yes"> </span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">是一款基于</span>Scala <span lang="ZH-CN" xml:lang="ZH-CN">开发的高性能服务器性能测试工具，它主要用于对服务器进行负载等测试，并分析和测量服务器的各种性能指标。</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">主要用于测量基于</span>HTTP<span lang="ZH-CN" xml:lang="ZH-CN">的服务器，比如</span>Web<span lang="ZH-CN" xml:lang="ZH-CN">应用程序，</span>RESTful<span lang="ZH-CN" xml:lang="ZH-CN">服务等 ，除此之外它拥有以下特点：</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持</span><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Akka Actors <span lang="ZH-CN" xml:lang="ZH-CN">和</span> Async IO<span lang="ZH-CN" xml:lang="ZH-CN">，从而能达到很高的性能</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持实时生成</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Html<span lang="ZH-CN" xml:lang="ZH-CN">动态轻量报表，从而使报表更易阅读和进行数据分析</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持</span><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">DSL<span lang="ZH-CN" xml:lang="ZH-CN">脚本，从而使测试脚本更易开发与维护</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持录制并生成测试脚本，从而可以方便的生成测试脚本</span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持导入</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">HAR<span lang="ZH-CN" xml:lang="ZH-CN">（</span>Http Archive<span lang="ZH-CN" xml:lang="ZH-CN">）并生成测试脚本</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持</span><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Maven<span lang="ZH-CN" xml:lang="ZH-CN">，</span>Eclipse<span lang="ZH-CN" xml:lang="ZH-CN">，</span>IntelliJ<span lang="ZH-CN" xml:lang="ZH-CN">等，以便于开发</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持</span><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Jenkins<span lang="ZH-CN" xml:lang="ZH-CN">，以便于进行持续集成</span></span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">支持插件，从而可以扩展其功能，比如可以扩展对其他协议的支持</span></div>
<div style="text-indent:0;mso-list:l1 level1 lfo1"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">开源免费</span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">适用的场景包括：测试需求经常改变，测试脚本需要经常维护；测试环境的客户机性能不强，但又希望发挥硬件的极限性能；能对测试脚本进行很好的版本管理，并通过</span>CI<span lang="ZH-CN" xml:lang="ZH-CN">进行持续的性能测试；希望测试结果轻量易读等。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-outline-level:1"><b style="mso-bidi-font-weight: normal"><span lang="ZH-CN" style="font-size:14.0pt;font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">二，</span></b><b style="mso-bidi-font-weight:normal"><span style="font-size:14.0pt;font-family: 宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">与</span>JMeter</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">JMeter<span lang="ZH-CN" xml:lang="ZH-CN">是目前使用最为广泛的服务器性能测试工具之一，它最大的特点就是拥有一套简单易用的</span>GUI<span lang="ZH-CN" xml:lang="ZH-CN">，但它最大的缺点也是由于简单易用导致它某些方面的不足，比如测试脚本（</span>XML<span lang="ZH-CN" xml:lang="ZH-CN">）不容易维护等。</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">正是针对</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">的劣势做了大量改进，因此相较于</span> JMeter<span lang="ZH-CN" xml:lang="ZH-CN">，</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">拥有以下优势：</span></span></div>
</div>
<div style="text-indent:0;mso-list:l4 level1 lfo2"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">在并发性能方面，</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">使用了</span>Akka Actors<span lang="ZH-CN" xml:lang="ZH-CN">和</span>Async IO, <span lang="ZH-CN" xml:lang="ZH-CN">而</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">则采用了一个用户使用一个线程的方式 ，一旦并发线程过多，性能就急速下降，很难充分发挥硬件的能力。虽然两个工具都是基于</span>JVM<span lang="ZH-CN" xml:lang="ZH-CN">的，但是</span>Actors<span lang="ZH-CN" xml:lang="ZH-CN">模型的性能在高并发的情况下性能大大优于</span>Threads<span lang="ZH-CN" xml:lang="ZH-CN">，从而使得</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">在更少的内存和</span>CPU<span lang="ZH-CN" xml:lang="ZH-CN">的情况下可以提供同样的测试能力，降低了测试成本。图</span>1<span lang="ZH-CN" xml:lang="ZH-CN">和图</span>2<span lang="ZH-CN" xml:lang="ZH-CN">分别展现了二者在并发性能方面的表现。</span></span></div>
<div style="text-align: center"><img src="http://twranman.github.io/assets/gatling.resources/gatling1.png"/><span style="font-family: 宋体;"><br/></span></div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">1<span lang="ZH-CN" xml:lang="ZH-CN">，</span>JMeter 2.8</span></b></div>
<div style="text-align: center"><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span><img src="http://twranman.github.io/assets/gatling.resources/gatling2.png"/></div>
<div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">2<span lang="ZH-CN" xml:lang="ZH-CN">，</span>Gatling 1.3.2</span></b></div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图片，测试环境和测试脚本参见：</span></b><b style="mso-bidi-font-weight: normal"><span style="font-size:10.0pt;font-family:Times;mso-fareast-font-family: &quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;"><a href="https://github.com/excilys/gatling/wiki/Benchmarks">https://github.com/excilys/gatling/wiki/Benchmarks</a></span></b></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN"> </span></b></div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">其中图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">1<span lang="ZH-CN" xml:lang="ZH-CN">和图</span>2<span lang="ZH-CN" xml:lang="ZH-CN">分别是</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">和</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">在</span>300<span lang="ZH-CN" xml:lang="ZH-CN">个用户并发下的测试结果。可以很明显的看出，</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">的并发量在</span>300<span lang="ZH-CN" xml:lang="ZH-CN">上下波动，最高达到</span>400<span lang="ZH-CN" xml:lang="ZH-CN">，最低达到</span>200<span lang="ZH-CN" xml:lang="ZH-CN">，而</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">几乎稳定在</span>300<span lang="ZH-CN" xml:lang="ZH-CN">。由此可见</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">性能的稳定性。</span></span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="text-indent:0;mso-list:l4 level1 lfo2"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">在测试脚本方面，</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">是</span>Scala<span lang="ZH-CN" xml:lang="ZH-CN">代码，而</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">主要是</span>XML<span lang="ZH-CN" xml:lang="ZH-CN">代码。</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">基于一套开源的</span>Gatling DSL API<span lang="ZH-CN" xml:lang="ZH-CN">，所以它的功能很容易扩展，也不需要使用者精通</span>Scala<span lang="ZH-CN" xml:lang="ZH-CN">语言。</span>DSL<span lang="ZH-CN" xml:lang="ZH-CN">的使用也更容易编写出简明，易读性和维护性高的代码，而且还可以使用版本工具进行更有效的管理。因为性能测试应该属于系统发布流程中必不可少的一个步骤，所以测试脚本应该和系统代码一样使用版本工具进行统一管理</span></span><b><span style="font-size:11.0pt;mso-bidi-font-size:15.0pt;font-family:&quot;Kaiti SC Bold&quot;; mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Kaiti SC Bold&quot;; color:#333333;mso-fareast-language:ZH-CN">。</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="text-indent:0;mso-list:l4 level1 lfo2"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">在报表系统上，</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">提供了一套轻量并且十分友好的</span>Html<span lang="ZH-CN" xml:lang="ZH-CN">报表系统，使得用户可以更为快速而方便地查看和分析数据，相反，</span>JMeter<span lang="ZH-CN" xml:lang="ZH-CN">的报表系统却十分笨重，且使用也不方便。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-outline-level:1"><b style="mso-bidi-font-weight: normal"><span lang="ZH-CN" style="font-size:14.0pt;font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">三，如何在项目中使用</span></b><b style="mso-bidi-font-weight:normal"><span style="font-size:14.0pt;font-family: 宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">对于</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">这样一个全新的服务器性能测试工具，是否能将它很好的运用到项目中并发挥其优势，这个是一个困扰测试决策者的问题 。下面我将结合在一个真实项目中使用和部署</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">的经验来解答这个问题。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">1<span lang="ZH-CN" xml:lang="ZH-CN">，搭建测试环境</span></span></b></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">在一个大型的</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Web<span lang="ZH-CN" xml:lang="ZH-CN">项目中，测试环境的搭建是项目测试工作开始的第一步，也是最为关键的一步，因为测试环境直接影响到测试成本和测试结果。由于这个项目对于性能的要求并不是很高，我们经过讨论和分析，决定选取虚拟机作为测试平台。这就意味着被测系统以及测试客户端可以使用的硬件资源比如</span>CPU<span lang="ZH-CN" xml:lang="ZH-CN">和内存十分有限，因此需要测试工具能充分使用有限的资源发挥最大的性能。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">2<span lang="ZH-CN" xml:lang="ZH-CN">，进行负载测试</span></span></b></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">为了快速实现测试脚本，我首先选择了使用</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">录制功能进行脚本录制，成功录制以后会在指定的“</span>Output folder<span lang="ZH-CN" xml:lang="ZH-CN">”目录下面生成你指定“</span>Class Name<span lang="ZH-CN" xml:lang="ZH-CN">”为名字的脚本<ins cite="mailto:twer" datetime="2013-08-05T23:35">，见图</ins></span><ins cite="mailto:twer" datetime="2013-08-05T23:35">3</ins><span lang="ZH-CN" xml:lang="ZH-CN"><ins cite="mailto:twer" datetime="2013-08-05T23:36">。</ins></span></span></div>
<div style="text-align: center"><img src="http://twranman.github.io/assets/gatling.resources/gatling3.png"/><span style="font-family: 宋体;"><br/></span></div>
<div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">3<span lang="ZH-CN" xml:lang="ZH-CN">，</span>Gatling Reco<ins cite="mailto:twer" datetime="2013-08-05T23:35">r</ins>der</span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">根据图</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">3<span lang="ZH-CN" xml:lang="ZH-CN">的配置，录制好的脚本存放在</span>/Users/twer/work/gatling/user-files/simulations/Common/MyRecordedSimulation.scala<span lang="ZH-CN" xml:lang="ZH-CN">。生成的部分脚本代码如下：</span></span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">class MyRecordedSimulation extends Simulation {</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> val httpProtocol = http</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .baseURL("http://</span> <span style="font-size:8.0pt;font-family:Consolas;mso-bidi-font-family:Courier; color:#333333;mso-fareast-language:ZH-CN">:10.17.7.3")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .acceptHeader("image/png,image/*;q=0.8,*/*;q=0.5")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .acceptEncodingHeader("gzip, deflate")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .acceptLanguageHeader("en-US,en;q=0.5")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .connection("keep-alive")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .userAgentHeader("Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:22.0) Gecko/20100101 Firefox/22.0")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span>val headers_1 = Map(</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> """Accept""" -&gt; """text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8""",</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> """If-None-Match""" -&gt; """"a3ef335152d5532e2297bd8ad288f3f9"""")</span></div>
</div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">录制代码段</span></b><b style="mso-bidi-font-weight: normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN">1</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .exec(http("request_21")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.get("""/customer/images/new?app_dialog=true&amp;dialog=true""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.headers(headers_18))</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .pause(6)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .exec(http("request_22")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.get("""/customer/images?_=1374400463122""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.headers(headers_19))</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .pause(165 milliseconds)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .exec(http("request_23")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.get("""/Users/twer/work/gatling/user-files/simulations/testdata/test1.png""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.headers(headers_20)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.check(status.is(500)))</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .pause(2)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .exec(http("request_24")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> <span style="mso-spacerun:yes">  </span>.get("""/customer/images?view=list"""))</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .pause(86 milliseconds)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">……</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">setUp(scn.inject(atOnce(1 user))).protocols(httpProtocol)</span></div>
</div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">录制代码段</span></b><b style="mso-bidi-font-weight: normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN">2</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">录制出来的脚本拥有很多局限性：</span></div>
<div style="text-indent:0;mso-list:l2 level1 lfo3"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">只支持</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">1<span lang="ZH-CN" xml:lang="ZH-CN">个用户</span></span></div>
<div style="text-indent:0;mso-list:l2 level1 lfo3"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">没有检测点</span></div>
<div style="text-indent:0;mso-list:l2 level1 lfo3"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">没有逻辑分层</span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">因此，它并不能用于真正的性能测试。对于这样的原始代码，我们需要进行大量的重构，使代码拥有很好的可读性和可维护性。</span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">首先我们要进行分层处理：</span></div>
<div style="text-indent:0;mso-list:l3 level1 lfo4"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">对于录制代码段</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">1<span lang="ZH-CN" xml:lang="ZH-CN">，需要建立一个</span>Header<span lang="ZH-CN" xml:lang="ZH-CN">类来管理所有</span>HTTP Header<span lang="ZH-CN" xml:lang="ZH-CN">，这里使用“</span>Headers.scala<span lang="ZH-CN" xml:lang="ZH-CN">”，在录制代码段</span>1<span lang="ZH-CN" xml:lang="ZH-CN">中只给出了“</span>headers_1<span lang="ZH-CN" xml:lang="ZH-CN">”，实际的脚本包含了大量的</span>Header<span lang="ZH-CN" xml:lang="ZH-CN">。</span></span></div>
<div style="text-indent:0;mso-list:l3 level1 lfo4"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">对于录制代码段</span><span style="font-family:宋体; mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">2<span lang="ZH-CN" xml:lang="ZH-CN">，需要将测试场景和测试控制分开，每一个测试场景使用一个文件来保存， 代码段</span>2<span lang="ZH-CN" xml:lang="ZH-CN">所示的场景使用“</span>UploadImageScenario.scala<span lang="ZH-CN" xml:lang="ZH-CN">”来保存。主控脚本也需要分离出来存入“</span>MainSimulation.scala<span lang="ZH-CN" xml:lang="ZH-CN">”，通过调用不同的测试场景的脚本，从而可以复用</span>HTTP<span lang="ZH-CN" xml:lang="ZH-CN">的配置选项，比如：</span></span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">val httpProtocol = http</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .baseURL("http://</span> <span style="font-size:8.0pt;font-family:Consolas;mso-bidi-font-family:Courier; color:#333333;mso-fareast-language:ZH-CN">:10.17.7.3")</span></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">其次，我们还需要增加多用户的支持：</span></div>
<div style="text-indent:0;mso-list:l0 level1 lfo5"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">多用户数据的读入，其中“</span><span style="font-family: 宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">user_credentials.csv<span lang="ZH-CN" xml:lang="ZH-CN">”存储的就是用户名和密码</span></span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">.feed(csv("user_credentials.csv"))</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .exec(http("request_login")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .post("""/customer/login""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .param("""username""", """${username}""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes">   </span> .param("""password", "${password}""")</span></div>
</div>
<div style="text-indent:0;mso-list:l0 level1 lfo5"><span style="font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family: Symbol;mso-fareast-language:ZH-CN"><span style="mso-list:Ignore">·<span style="font:7.0pt &quot;Times New Roman&quot;">     </span></span></span> <span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">设置多用户的值。由于我们使用的是<ins cite="mailto:twer" datetime="2013-08-05T23:37">虚拟机</ins>，所以经过测试，确定为</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">400<span lang="ZH-CN" xml:lang="ZH-CN">用户并发。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">setUp(LoginScenario.loginScn.inject(ramp(400 users) over(60 seconds))).protocols(httpProtocol)</span></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">最后，我们还要增加检测点，使用</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">check<span lang="ZH-CN" xml:lang="ZH-CN">，</span>find<span lang="ZH-CN" xml:lang="ZH-CN">，</span>status<span lang="ZH-CN" xml:lang="ZH-CN">等函数进行检测，下面的代码检测了用户登出的时候</span>HTTP Response Status<span lang="ZH-CN" xml:lang="ZH-CN">是否为</span>302<span lang="ZH-CN" xml:lang="ZH-CN">：</span></span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">exec(http("request_logout")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .get(("""/customer/logout""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .headers(headers_logout)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .check(status.is(302)))</span></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">当然，如果测试人员熟悉</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Gatling DSL API<span lang="ZH-CN" xml:lang="ZH-CN">，我们也可以不用录制代码再进行重构，而是直接设计测试系统并进行测试案例的开发。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">项目采取了敏捷方法进行开发，所以系统的一些功能在开发过程中会出现频繁改动，导致测试场景和测试脚本也会随之发生改变，因此，测试脚本的可读性和可维护性对于我们来说就非常重要。当某个功能改变之后，使用</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">脚本就能十分方便的进行阅读和重构。比如对于添加</span>user<span lang="ZH-CN" xml:lang="ZH-CN">的功能，第一版只需要能添加</span>user<span lang="ZH-CN" xml:lang="ZH-CN">即可<ins cite="mailto:twer" datetime="2013-08-05T23:38">（见<b style="mso-bidi-font-weight: normal">添加</b></ins></span><b style="mso-bidi-font-weight:normal"><ins cite="mailto:twer" datetime="2013-08-05T23:38">user<span lang="ZH-CN" xml:lang="ZH-CN">代码</span>1</ins></b><span lang="ZH-CN" xml:lang="ZH-CN"><ins cite="mailto:twer" datetime="2013-08-05T23:38">）</ins>，而在下一版中，则要求在添加</span>user<span lang="ZH-CN" xml:lang="ZH-CN">时可以选择该</span>user<span lang="ZH-CN" xml:lang="ZH-CN">具有那些权限<ins cite="mailto:twer" datetime="2013-08-05T23:38">（见</ins><b style="mso-bidi-font-weight:normal"><ins cite="mailto:twer" datetime="2013-08-05T23:39">添加</ins></b></span><b style="mso-bidi-font-weight: normal"><ins cite="mailto:twer" datetime="2013-08-05T23:39">user<span lang="ZH-CN" xml:lang="ZH-CN">代码</span>2</ins></b><span lang="ZH-CN" xml:lang="ZH-CN"><ins cite="mailto:twer" datetime="2013-08-05T23:38">）</ins>，代码如下：</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">.exec(http("request_add_user")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .post("""/customer/users""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .headers(headers_user)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span><span style="mso-spacerun:yes"> </span>.param("""utf8""", """</span><span style="font-size:8.0pt;font-family:&quot;Menlo Regular&quot;; color:#333333;mso-fareast-language:ZH-CN">✓</span><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[username]""", """user2""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[email]""", <a href="mailto:%22%22%22user@gmail.com">"""user@gmail.com</a>""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[password]""", """user2""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[password_confirmation]""", """user2""")</span></div>
</div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">添加</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">user<span lang="ZH-CN" xml:lang="ZH-CN">代码</span>1</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt: solid #DDDDDD .75pt;padding:5.0pt 8.0pt 31.0pt 8.0pt;background:#F8F8F8">
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">.exec(http("request_add_user")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .post("""/customer/users""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .headers(headers_user)</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span><span style="mso-spacerun:yes"> </span>.param("""utf8""", """</span><span style="font-size:8.0pt;font-family:&quot;Menlo Regular&quot;; color:#333333;mso-fareast-language:ZH-CN">✓</span><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN">""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[username]""", """user2""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[email]""", <a href="mailto:%22%22%22user@gmail.com">"""user@gmail.com</a>""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[password]""", """user2""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[password_confirmation]""", """user2""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[plugins][]""", """customer_dashboard""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[plugins][]""", """customer_files""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[plugins][]""", """customer_images""")</span></div>
<div style="tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; background:#F8F8F8;border:none;mso-border-alt:solid #DDDDDD .75pt;padding:0cm; mso-padding-alt:5.0pt 8.0pt 31.0pt 8.0pt;"><span style="font-size:8.0pt; font-family:Consolas;mso-bidi-font-family:Courier;color:#333333;mso-fareast-language: ZH-CN"><span style="mso-spacerun:yes"> </span> .param("""user[plugins][]""", """customer_pages"""))</span></div>
</div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">添加</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">user<span lang="ZH-CN" xml:lang="ZH-CN">代码</span>2</span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">项目发布后，若项目功能发生改变，我们也可以使用</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">进行持续的性能回归测试，保证系统性能不会因为某次修改导致非预期的降低。如果降低了，就要进行及时的调查，修复或者是调整，保证性能一直在预期的可控范围内。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">3<span lang="ZH-CN" xml:lang="ZH-CN">，测试报表</span></span></b></div>
</div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">测试报表基于</span>HTML<span lang="ZH-CN" xml:lang="ZH-CN">，并且在测试过程中业已生成，所以打开速度很快。而且，当把鼠标移动到不同数据轴上时，都会有弹出框显示这个点上详细的测试数据信息。这种动态显示数据的方式非常方便查看和分析数据。考虑到项目真实数据的不便，我将通过</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">官方网站给出的示例报表进行说明。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">的报表分为两类：</span>GLOBAL<span lang="ZH-CN" xml:lang="ZH-CN">和</span>DETAILS<span lang="ZH-CN" xml:lang="ZH-CN">，其中</span>GLOBAL<span lang="ZH-CN" xml:lang="ZH-CN">主要是请求相关的统计数据，比如每秒请求数，请求成功与失败数等；其中</span>DETAILS<span lang="ZH-CN" xml:lang="ZH-CN">主要是请求时间相关的统计数据，比如请求响应时间，请求响应延迟时间等。</span></span></div>
<div style="text-align: center"><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span><img src="http://twranman.github.io/assets/gatling.resources/gatling4.png"/></div>
<div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">4<span style="mso-spacerun:yes"> </span> <span lang="ZH-CN" xml:lang="ZH-CN">每秒请求数，来自</span><span style="mso-spacerun:yes"> </span></span></b> <a href="http://gatling-tool.org/sample/req_home.html"><b style="mso-bidi-font-weight: normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN">http://gatling-tool.org/sample/req_home.html</span></b></a><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">当鼠标放到图中任何一个点的时候，对应时间点上请求的详细数据就会以图中白色的弹出框的方式进行显示。在下面的请求响应延迟时间图里面也有同样的功能。</span></div>
<div style="text-align: center"><img src="http://twranman.github.io/assets/gatling.resources/gatling5.png"/><span style="font-family: 宋体;"><br/></span></div>
<div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">5<span style="mso-spacerun:yes"> </span> <span lang="ZH-CN" xml:lang="ZH-CN">请求响应延迟时间，来自</span><a href="http://gatling-tool.org/sample/index.html">http://gatling-tool.org/sample/index.html</a></span></b></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">3<span lang="ZH-CN" xml:lang="ZH-CN">，与</span>CI<span lang="ZH-CN" xml:lang="ZH-CN">的集成</span></span></div>
</div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">项目的</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">CI<span lang="ZH-CN" xml:lang="ZH-CN">系统选用的是</span>Jenkins<span lang="ZH-CN" xml:lang="ZH-CN">，因为</span>Jenkins<span lang="ZH-CN" xml:lang="ZH-CN">有</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">的插件，所以通过这个插件可以在</span>Jenkins<span lang="ZH-CN" xml:lang="ZH-CN">上直接查看</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">的测试结果，如图</span>6<span lang="ZH-CN" xml:lang="ZH-CN">所示。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="text-align: center"><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span><img src="http://twranman.github.io/assets/gatling.resources/gatling6.png"/></div>
<div>
<div><b style="mso-bidi-font-weight:normal"><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN" xml:lang="ZH-CN">图</span></b><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">6 Jenkins Gatling<span lang="ZH-CN" xml:lang="ZH-CN">插件，图片来自：</span></span></b><a href="https://wiki.jenkins-ci.org/display/JENKINS/Gatling+Plugin"><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">https://wiki.jenkins-ci.org/display/JENKINS/Gatling+Plugin</span></b></a></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">我们还把生成的报表存档到每个</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">Build<span lang="ZH-CN" xml:lang="ZH-CN">里面，这样就可以在每个</span>Build<span lang="ZH-CN" xml:lang="ZH-CN">中获得那次测试的所有报表。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">4<span lang="ZH-CN" xml:lang="ZH-CN">，更多类型的测试</span></span></b></div>
<div><span lang="ZH-CN" style="font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">其他类型的</span><span style="font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体; mso-fareast-language:ZH-CN">HTTP<span lang="ZH-CN" xml:lang="ZH-CN">服务器性能测试，比如瞬间压力测试，耐久性测试等， 都十分适合使用</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">。</span></span></div>
<div><span style="font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN"> </span></div>
<div style="mso-outline-level:1"><b style="mso-bidi-font-weight: normal"><span lang="ZH-CN" style="font-size:14.0pt;font-family:宋体;mso-hansi-font-family: 宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN" xml:lang="ZH-CN">四，未来的</span></b><b style="mso-bidi-font-weight:normal"><span style="font-size:14.0pt;font-family: 宋体;mso-hansi-font-family:宋体;mso-bidi-font-family:宋体;mso-fareast-language:ZH-CN">Gatling</span></b></div>
<div><b style="mso-bidi-font-weight:normal"><span style="font-size:14.0pt;font-family:宋体;mso-hansi-font-family:宋体;mso-bidi-font-family: 宋体;mso-fareast-language:ZH-CN"> </span></b></div>
</div>
<div><span style="font-size:12.0pt;font-family:宋体;mso-hansi-font-family:宋体; mso-bidi-font-family:宋体;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN; mso-bidi-language:AR-SA">Gatling<span lang="ZH-CN" xml:lang="ZH-CN">发布的时间虽然不长，但凭借其优良的性能，</span>DSL<span lang="ZH-CN" xml:lang="ZH-CN">模式的脚本，轻量友好的报表系统在众多服务器性能测试工具中脱颖而出。在</span>2013<span lang="ZH-CN" xml:lang="ZH-CN">年</span>5<span lang="ZH-CN" xml:lang="ZH-CN">月发布的</span>ThoughtWorks<span lang="ZH-CN" xml:lang="ZH-CN">技术雷达中，</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">被列入了</span>ADOPT<span lang="ZH-CN" xml:lang="ZH-CN">，并在一些</span>ThoughtWorks<span lang="ZH-CN" xml:lang="ZH-CN">项目中得到了实际的运用。不过，</span>Gatling<span lang="ZH-CN" xml:lang="ZH-CN">还是存在一些问题，比如不支持分布式模型；默认只支持</span>HTTP<span lang="ZH-CN" xml:lang="ZH-CN">，对于其他协议需要自己动手进行扩展；报表种类也不是很丰富 。倘若</span>Gatling <span lang="ZH-CN" xml:lang="ZH-CN">能在这几方面有所突破，那么它必将成为新一代服务器性能测试工具中的杀手锏。</span></span></div>
</body></html>
